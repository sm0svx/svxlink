<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Async: Async::AudioRecorder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Async<span id="projectnumber">&#160;1.8.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceAsync.html">Async</a></li><li class="navelem"><a class="el" href="classAsync_1_1AudioRecorder.html">AudioRecorder</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classAsync_1_1AudioRecorder-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Async::AudioRecorder Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A class for recording raw audio to a file.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="AsyncAudioRecorder_8h_source.html">AsyncAudioRecorder.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Async::AudioRecorder:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classAsync_1_1AudioRecorder.png" usemap="#Async::AudioRecorder_map" alt=""/>
  <map id="Async::AudioRecorder_map" name="Async::AudioRecorder_map">
<area href="classAsync_1_1AudioSink.html" title="The base class for an audio sink." alt="Async::AudioSink" shape="rect" coords="0,0,140,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a3216d496596ae096ff4599d5c11e8475" id="r_a3216d496596ae096ff4599d5c11e8475"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3216d496596ae096ff4599d5c11e8475">Format</a> { <a class="el" href="#a3216d496596ae096ff4599d5c11e8475a387310b8127180c0c82456726f410ddf">FMT_AUTO</a>
, <a class="el" href="#a3216d496596ae096ff4599d5c11e8475a519f1720780552abcc43b12d774deefc">FMT_RAW</a>
, <a class="el" href="#a3216d496596ae096ff4599d5c11e8475a608e0bd5401ffd85b89443324b6f0686">FMT_WAV</a>
 }</td></tr>
<tr class="separator:a3216d496596ae096ff4599d5c11e8475"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab272d4030a468cafd62ed9ed395b2b40" id="r_ab272d4030a468cafd62ed9ed395b2b40"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab272d4030a468cafd62ed9ed395b2b40">AudioRecorder</a> (const std::string &amp;filename, <a class="el" href="#a3216d496596ae096ff4599d5c11e8475">AudioRecorder::Format</a> fmt=<a class="el" href="#a3216d496596ae096ff4599d5c11e8475a387310b8127180c0c82456726f410ddf">FMT_AUTO</a>, int sample_rate=INTERNAL_SAMPLE_RATE)</td></tr>
<tr class="memdesc:ab272d4030a468cafd62ed9ed395b2b40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constuctor.  <br /></td></tr>
<tr class="separator:ab272d4030a468cafd62ed9ed395b2b40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a432227f7d58189855e57aad66c9a8b2f" id="r_a432227f7d58189855e57aad66c9a8b2f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a432227f7d58189855e57aad66c9a8b2f">~AudioRecorder</a> (void)</td></tr>
<tr class="memdesc:a432227f7d58189855e57aad66c9a8b2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="separator:a432227f7d58189855e57aad66c9a8b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a429d4203276b91fcec3975416a30002b" id="r_a429d4203276b91fcec3975416a30002b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a429d4203276b91fcec3975416a30002b">initialize</a> (void)</td></tr>
<tr class="memdesc:a429d4203276b91fcec3975416a30002b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the recorder.  <br /></td></tr>
<tr class="separator:a429d4203276b91fcec3975416a30002b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08bfc22a9f6bdf5ce086d3a71f9b1876" id="r_a08bfc22a9f6bdf5ce086d3a71f9b1876"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08bfc22a9f6bdf5ce086d3a71f9b1876">setMaxRecordingTime</a> (unsigned time_ms, unsigned hw_time_ms=0)</td></tr>
<tr class="memdesc:a08bfc22a9f6bdf5ce086d3a71f9b1876"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum length of this recording.  <br /></td></tr>
<tr class="separator:a08bfc22a9f6bdf5ce086d3a71f9b1876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef4670f6975d79568bf5127ea0b38673" id="r_aef4670f6975d79568bf5127ea0b38673"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef4670f6975d79568bf5127ea0b38673">closeFile</a> (void)</td></tr>
<tr class="memdesc:aef4670f6975d79568bf5127ea0b38673"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the file.  <br /></td></tr>
<tr class="separator:aef4670f6975d79568bf5127ea0b38673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73f2070d1dcbed110a7db6796627ff05" id="r_a73f2070d1dcbed110a7db6796627ff05"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a73f2070d1dcbed110a7db6796627ff05">samplesWritten</a> (void) const</td></tr>
<tr class="memdesc:a73f2070d1dcbed110a7db6796627ff05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find out how many samples that have been written so far.  <br /></td></tr>
<tr class="separator:a73f2070d1dcbed110a7db6796627ff05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82028c823ac2a246d47830b8e7ed62f5" id="r_a82028c823ac2a246d47830b8e7ed62f5"><td class="memItemLeft" align="right" valign="top">const struct timeval &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a82028c823ac2a246d47830b8e7ed62f5">beginTimestamp</a> (void) const</td></tr>
<tr class="memdesc:a82028c823ac2a246d47830b8e7ed62f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The timestamp of the first stored sample.  <br /></td></tr>
<tr class="separator:a82028c823ac2a246d47830b8e7ed62f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb180d0e455246786c2360802fe8dbab" id="r_adb180d0e455246786c2360802fe8dbab"><td class="memItemLeft" align="right" valign="top">const struct timeval &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb180d0e455246786c2360802fe8dbab">endTimestamp</a> (void) const</td></tr>
<tr class="memdesc:adb180d0e455246786c2360802fe8dbab"><td class="mdescLeft">&#160;</td><td class="mdescRight">The timestamp of the last stored sample.  <br /></td></tr>
<tr class="separator:adb180d0e455246786c2360802fe8dbab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0cf4ae2820567de1cb23426aa2ae0da" id="r_ac0cf4ae2820567de1cb23426aa2ae0da"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0cf4ae2820567de1cb23426aa2ae0da">writeSamples</a> (const float *samples, int count)</td></tr>
<tr class="memdesc:ac0cf4ae2820567de1cb23426aa2ae0da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write samples into this audio sink.  <br /></td></tr>
<tr class="separator:ac0cf4ae2820567de1cb23426aa2ae0da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab353029ae5f9db96ab63f254d6a01c44" id="r_ab353029ae5f9db96ab63f254d6a01c44"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab353029ae5f9db96ab63f254d6a01c44">flushSamples</a> (void)</td></tr>
<tr class="memdesc:ab353029ae5f9db96ab63f254d6a01c44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the sink to flush the previously written samples.  <br /></td></tr>
<tr class="separator:ab353029ae5f9db96ab63f254d6a01c44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b0316808b1dd015f20e2ae207bb256c" id="r_a0b0316808b1dd015f20e2ae207bb256c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b0316808b1dd015f20e2ae207bb256c">errorMsg</a> (void) const</td></tr>
<tr class="memdesc:a0b0316808b1dd015f20e2ae207bb256c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current error message.  <br /></td></tr>
<tr class="separator:a0b0316808b1dd015f20e2ae207bb256c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classAsync_1_1AudioSink"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classAsync_1_1AudioSink')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classAsync_1_1AudioSink.html">Async::AudioSink</a></td></tr>
<tr class="memitem:ae0223d429bd789498549ccc7017f914c inherit pub_methods_classAsync_1_1AudioSink" id="r_ae0223d429bd789498549ccc7017f914c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1AudioSink.html#ae0223d429bd789498549ccc7017f914c">AudioSink</a> (void)</td></tr>
<tr class="memdesc:ae0223d429bd789498549ccc7017f914c inherit pub_methods_classAsync_1_1AudioSink"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constuctor.  <br /></td></tr>
<tr class="separator:ae0223d429bd789498549ccc7017f914c inherit pub_methods_classAsync_1_1AudioSink"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e2da6c82a4a811722115513ab36d94 inherit pub_methods_classAsync_1_1AudioSink" id="r_af4e2da6c82a4a811722115513ab36d94"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1AudioSink.html#af4e2da6c82a4a811722115513ab36d94">~AudioSink</a> (void)</td></tr>
<tr class="memdesc:af4e2da6c82a4a811722115513ab36d94 inherit pub_methods_classAsync_1_1AudioSink"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="separator:af4e2da6c82a4a811722115513ab36d94 inherit pub_methods_classAsync_1_1AudioSink"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a355c87f3f763af97de92f5b9ac4b6327 inherit pub_methods_classAsync_1_1AudioSink" id="r_a355c87f3f763af97de92f5b9ac4b6327"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1AudioSink.html#a355c87f3f763af97de92f5b9ac4b6327">registerSource</a> (<a class="el" href="classAsync_1_1AudioSource.html">AudioSource</a> *<a class="el" href="classAsync_1_1AudioSink.html#aa13f3cb4f0191174ca78108d985b64c1">source</a>)</td></tr>
<tr class="memdesc:a355c87f3f763af97de92f5b9ac4b6327 inherit pub_methods_classAsync_1_1AudioSink"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an audio source to provide samples to this sink.  <br /></td></tr>
<tr class="separator:a355c87f3f763af97de92f5b9ac4b6327 inherit pub_methods_classAsync_1_1AudioSink"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4096137dbc22fe2568b8a2f0095dd2e9 inherit pub_methods_classAsync_1_1AudioSink" id="r_a4096137dbc22fe2568b8a2f0095dd2e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1AudioSink.html#a4096137dbc22fe2568b8a2f0095dd2e9">unregisterSource</a> (void)</td></tr>
<tr class="memdesc:a4096137dbc22fe2568b8a2f0095dd2e9 inherit pub_methods_classAsync_1_1AudioSink"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister the previously registered audio source.  <br /></td></tr>
<tr class="separator:a4096137dbc22fe2568b8a2f0095dd2e9 inherit pub_methods_classAsync_1_1AudioSink"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6c2a8f6ebf1e1c44efd8e8770ce2a88 inherit pub_methods_classAsync_1_1AudioSink" id="r_ae6c2a8f6ebf1e1c44efd8e8770ce2a88"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1AudioSink.html#ae6c2a8f6ebf1e1c44efd8e8770ce2a88">isRegistered</a> (void) const</td></tr>
<tr class="memdesc:ae6c2a8f6ebf1e1c44efd8e8770ce2a88 inherit pub_methods_classAsync_1_1AudioSink"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if an audio source has been registered.  <br /></td></tr>
<tr class="separator:ae6c2a8f6ebf1e1c44efd8e8770ce2a88 inherit pub_methods_classAsync_1_1AudioSink"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa13f3cb4f0191174ca78108d985b64c1 inherit pub_methods_classAsync_1_1AudioSink" id="r_aa13f3cb4f0191174ca78108d985b64c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAsync_1_1AudioSource.html">AudioSource</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1AudioSink.html#aa13f3cb4f0191174ca78108d985b64c1">source</a> (void) const</td></tr>
<tr class="memdesc:aa13f3cb4f0191174ca78108d985b64c1 inherit pub_methods_classAsync_1_1AudioSink"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the registered audio source.  <br /></td></tr>
<tr class="separator:aa13f3cb4f0191174ca78108d985b64c1 inherit pub_methods_classAsync_1_1AudioSink"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a648484cc1e28a26ddf35ee720e3ffec1" id="r_a648484cc1e28a26ddf35ee720e3ffec1"><td class="memItemLeft" align="right" valign="top">sigc::signal&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a648484cc1e28a26ddf35ee720e3ffec1">maxRecordingTimeReached</a></td></tr>
<tr class="memdesc:a648484cc1e28a26ddf35ee720e3ffec1"><td class="mdescLeft">&#160;</td><td class="mdescRight">A signal that's emitted when the max recording time is reached.  <br /></td></tr>
<tr class="separator:a648484cc1e28a26ddf35ee720e3ffec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a703ad5a9f03116aff7b18bd609f3b199" id="r_a703ad5a9f03116aff7b18bd609f3b199"><td class="memItemLeft" align="right" valign="top">sigc::signal&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a703ad5a9f03116aff7b18bd609f3b199">errorOccurred</a></td></tr>
<tr class="memdesc:a703ad5a9f03116aff7b18bd609f3b199"><td class="mdescLeft">&#160;</td><td class="mdescRight">This signal is emitted when an error occurrs in the recorder.  <br /></td></tr>
<tr class="separator:a703ad5a9f03116aff7b18bd609f3b199"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classAsync_1_1AudioSink"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_methods_classAsync_1_1AudioSink')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classAsync_1_1AudioSink.html">Async::AudioSink</a></td></tr>
<tr class="memitem:a4c16d7b78aade12abc0b57ec1db95f62 inherit pro_methods_classAsync_1_1AudioSink" id="r_a4c16d7b78aade12abc0b57ec1db95f62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1AudioSink.html#a4c16d7b78aade12abc0b57ec1db95f62">sourceResumeOutput</a> (void)</td></tr>
<tr class="memdesc:a4c16d7b78aade12abc0b57ec1db95f62 inherit pro_methods_classAsync_1_1AudioSink"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the source that we are ready to accept more samples.  <br /></td></tr>
<tr class="separator:a4c16d7b78aade12abc0b57ec1db95f62 inherit pro_methods_classAsync_1_1AudioSink"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2548622eb5c52ef80f3bd297f290be3c inherit pro_methods_classAsync_1_1AudioSink" id="r_a2548622eb5c52ef80f3bd297f290be3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1AudioSink.html#a2548622eb5c52ef80f3bd297f290be3c">sourceAllSamplesFlushed</a> (void)</td></tr>
<tr class="memdesc:a2548622eb5c52ef80f3bd297f290be3c inherit pro_methods_classAsync_1_1AudioSink"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the source that all samples have been flushed.  <br /></td></tr>
<tr class="separator:a2548622eb5c52ef80f3bd297f290be3c inherit pro_methods_classAsync_1_1AudioSink"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af29f830e9b6ea167cf8f4e9e3ae1be3a inherit pro_methods_classAsync_1_1AudioSink" id="r_af29f830e9b6ea167cf8f4e9e3ae1be3a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1AudioSink.html#af29f830e9b6ea167cf8f4e9e3ae1be3a">setHandler</a> (<a class="el" href="classAsync_1_1AudioSink.html">AudioSink</a> *<a class="el" href="classAsync_1_1AudioSink.html#ae76e8a3cde05e5173877f45fe0caba24">handler</a>)</td></tr>
<tr class="memdesc:af29f830e9b6ea167cf8f4e9e3ae1be3a inherit pro_methods_classAsync_1_1AudioSink"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup another sink to handle the incoming audio.  <br /></td></tr>
<tr class="separator:af29f830e9b6ea167cf8f4e9e3ae1be3a inherit pro_methods_classAsync_1_1AudioSink"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11df81d747facec35563e9359520b522 inherit pro_methods_classAsync_1_1AudioSink" id="r_a11df81d747facec35563e9359520b522"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1AudioSink.html#a11df81d747facec35563e9359520b522">clearHandler</a> (void)</td></tr>
<tr class="memdesc:a11df81d747facec35563e9359520b522 inherit pro_methods_classAsync_1_1AudioSink"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear a handler that was previously setup with setHandler.  <br /></td></tr>
<tr class="separator:a11df81d747facec35563e9359520b522 inherit pro_methods_classAsync_1_1AudioSink"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae76e8a3cde05e5173877f45fe0caba24 inherit pro_methods_classAsync_1_1AudioSink" id="r_ae76e8a3cde05e5173877f45fe0caba24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAsync_1_1AudioSink.html">AudioSink</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAsync_1_1AudioSink.html#ae76e8a3cde05e5173877f45fe0caba24">handler</a> (void) const</td></tr>
<tr class="separator:ae76e8a3cde05e5173877f45fe0caba24 inherit pro_methods_classAsync_1_1AudioSink"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class for recording raw audio to a file. </p>
<dl class="section author"><dt>Author</dt><dd>Tobias Blomberg / SM0SVX </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2005-08-29</dd></dl>
<p>Use this class to stream audio into a file. The audio is stored in raw format, (only samples no header) or WAV format. </p>

<p class="definition">Definition at line <a class="el" href="AsyncAudioRecorder_8h_source.html#l00119">119</a> of file <a class="el" href="AsyncAudioRecorder_8h_source.html">AsyncAudioRecorder.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a3216d496596ae096ff4599d5c11e8475" name="a3216d496596ae096ff4599d5c11e8475"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3216d496596ae096ff4599d5c11e8475">&#9670;&#160;</a></span>Format</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a3216d496596ae096ff4599d5c11e8475">Async::AudioRecorder::Format</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a3216d496596ae096ff4599d5c11e8475a387310b8127180c0c82456726f410ddf" name="a3216d496596ae096ff4599d5c11e8475a387310b8127180c0c82456726f410ddf"></a>FMT_AUTO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3216d496596ae096ff4599d5c11e8475a519f1720780552abcc43b12d774deefc" name="a3216d496596ae096ff4599d5c11e8475a519f1720780552abcc43b12d774deefc"></a>FMT_RAW&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3216d496596ae096ff4599d5c11e8475a608e0bd5401ffd85b89443324b6f0686" name="a3216d496596ae096ff4599d5c11e8475a608e0bd5401ffd85b89443324b6f0686"></a>FMT_WAV&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="AsyncAudioRecorder_8h_source.html#l00122">122</a> of file <a class="el" href="AsyncAudioRecorder_8h_source.html">AsyncAudioRecorder.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab272d4030a468cafd62ed9ed395b2b40" name="ab272d4030a468cafd62ed9ed395b2b40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab272d4030a468cafd62ed9ed395b2b40">&#9670;&#160;</a></span>AudioRecorder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Async::AudioRecorder::AudioRecorder </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a3216d496596ae096ff4599d5c11e8475">AudioRecorder::Format</a></td>          <td class="paramname"><span class="paramname"><em>fmt</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="#a3216d496596ae096ff4599d5c11e8475a387310b8127180c0c82456726f410ddf">FMT_AUTO</a></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sample_rate</em></span><span class="paramdefsep"> = </span><span class="paramdefval">INTERNAL_SAMPLE_RATE</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constuctor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The name of the file to record audio to </td></tr>
    <tr><td class="paramname">fmt</td><td>The file format (</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a3216d496596ae096ff4599d5c11e8475">Format</a>) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sample_rate</td><td>The sample rate (defaults to INTERNAL_SAMPLE_RATE) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a432227f7d58189855e57aad66c9a8b2f" name="a432227f7d58189855e57aad66c9a8b2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a432227f7d58189855e57aad66c9a8b2f">&#9670;&#160;</a></span>~AudioRecorder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Async::AudioRecorder::~AudioRecorder </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a82028c823ac2a246d47830b8e7ed62f5" name="a82028c823ac2a246d47830b8e7ed62f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82028c823ac2a246d47830b8e7ed62f5">&#9670;&#160;</a></span>beginTimestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct timeval &amp; Async::AudioRecorder::beginTimestamp </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The timestamp of the first stored sample. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the timestamp </dd></dl>

<p class="definition">Definition at line <a class="el" href="AsyncAudioRecorder_8h_source.html#l00187">187</a> of file <a class="el" href="AsyncAudioRecorder_8h_source.html">AsyncAudioRecorder.h</a>.</p>

</div>
</div>
<a id="aef4670f6975d79568bf5127ea0b38673" name="aef4670f6975d79568bf5127ea0b38673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef4670f6975d79568bf5127ea0b38673">&#9670;&#160;</a></span>closeFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Async::AudioRecorder::closeFile </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the file. </p>
<dl class="section return"><dt>Returns</dt><dd>Return <em>true</em> if closing went well or <em>false</em> otherwise</dd></dl>
<p>This function will close the file being recorded to. When the file has been closed, all samples coming in after that will be discarded. If an error occurr, this function will return <em>false</em>. The error message can be retrieved using the errorMsg function. </p>

</div>
</div>
<a id="adb180d0e455246786c2360802fe8dbab" name="adb180d0e455246786c2360802fe8dbab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb180d0e455246786c2360802fe8dbab">&#9670;&#160;</a></span>endTimestamp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct timeval &amp; Async::AudioRecorder::endTimestamp </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The timestamp of the last stored sample. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the timestamp </dd></dl>

<p class="definition">Definition at line <a class="el" href="AsyncAudioRecorder_8h_source.html#l00193">193</a> of file <a class="el" href="AsyncAudioRecorder_8h_source.html">AsyncAudioRecorder.h</a>.</p>

</div>
</div>
<a id="a0b0316808b1dd015f20e2ae207bb256c" name="a0b0316808b1dd015f20e2ae207bb256c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b0316808b1dd015f20e2ae207bb256c">&#9670;&#160;</a></span>errorMsg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Async::AudioRecorder::errorMsg </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the current error message. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the currently set error message</dd></dl>
<p>This function is used to retrieve the last set error message. It can for example be used when the initialize method return false or when the error signal is emitted. </p>

<p class="definition">Definition at line <a class="el" href="AsyncAudioRecorder_8h_source.html#l00226">226</a> of file <a class="el" href="AsyncAudioRecorder_8h_source.html">AsyncAudioRecorder.h</a>.</p>

</div>
</div>
<a id="ab353029ae5f9db96ab63f254d6a01c44" name="ab353029ae5f9db96ab63f254d6a01c44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab353029ae5f9db96ab63f254d6a01c44">&#9670;&#160;</a></span>flushSamples()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Async::AudioRecorder::flushSamples </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tell the sink to flush the previously written samples. </p>
<p>This function is used to tell the sink to flush previously written samples. When done flushing, the sink should call the sourceAllSamplesFlushed function. This function is normally only called from a connected source object. </p>

<p>Reimplemented from <a class="el" href="classAsync_1_1AudioSink.html#adde14468248671c6c5c85eb47234e0fa">Async::AudioSink</a>.</p>

</div>
</div>
<a id="a429d4203276b91fcec3975416a30002b" name="a429d4203276b91fcec3975416a30002b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a429d4203276b91fcec3975416a30002b">&#9670;&#160;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Async::AudioRecorder::initialize </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the recorder. </p>
<dl class="section return"><dt>Returns</dt><dd>Return <em>true</em> if the initialization was successful</dd></dl>
<p>This function will initialize the recorder and open the file. On error, this function returns <em>false</em>. The error message can be retrieved using the errorMsg function. </p>

</div>
</div>
<a id="a73f2070d1dcbed110a7db6796627ff05" name="a73f2070d1dcbed110a7db6796627ff05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73f2070d1dcbed110a7db6796627ff05">&#9670;&#160;</a></span>samplesWritten()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned Async::AudioRecorder::samplesWritten </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find out how many samples that have been written so far. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of samples written so far </dd></dl>

<p class="definition">Definition at line <a class="el" href="AsyncAudioRecorder_8h_source.html#l00181">181</a> of file <a class="el" href="AsyncAudioRecorder_8h_source.html">AsyncAudioRecorder.h</a>.</p>

</div>
</div>
<a id="a08bfc22a9f6bdf5ce086d3a71f9b1876" name="a08bfc22a9f6bdf5ce086d3a71f9b1876"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08bfc22a9f6bdf5ce086d3a71f9b1876">&#9670;&#160;</a></span>setMaxRecordingTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Async::AudioRecorder::setMaxRecordingTime </td>
          <td>(</td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>time_ms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned</td>          <td class="paramname"><span class="paramname"><em>hw_time_ms</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the maximum length of this recording. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time_ms</td><td>The maximum time in milliseconds </td></tr>
    <tr><td class="paramname">hw_time_ms</td><td>The high watermark time in milliseconds</td></tr>
  </table>
  </dd>
</dl>
<p>Use this function to set the maximum time for a recording. When the limit has been reached, the file will be closed and any incoming samples will be thrown away. The high watermark time is a soft limit. After reaching the high watermark, the recording will be ended as soon as the audio source call flushSamples. The high watermark need to be set to less than the maximum time to have any effect. A time of 0 disables it. The sampling rate given in the constructor call is used to calculate the time. Setting the time to 0 will allow the file to grow indefinetly. </p>

</div>
</div>
<a id="ac0cf4ae2820567de1cb23426aa2ae0da" name="ac0cf4ae2820567de1cb23426aa2ae0da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0cf4ae2820567de1cb23426aa2ae0da">&#9670;&#160;</a></span>writeSamples()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int Async::AudioRecorder::writeSamples </td>
          <td>(</td>
          <td class="paramtype">const float *</td>          <td class="paramname"><span class="paramname"><em>samples</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write samples into this audio sink. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">samples</td><td>The buffer containing the samples </td></tr>
    <tr><td class="paramname">count</td><td>The number of samples in the buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of samples that has been taken care of</dd></dl>
<p>This function is used to write audio into this audio sink. If it returns 0, no more samples should be written until the resumeOutput function in the source have been called. This function is normally only called from a connected source object. </p>

<p>Reimplemented from <a class="el" href="classAsync_1_1AudioSink.html#a490aa6380d6b0069fc501f0d9f62e236">Async::AudioSink</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a703ad5a9f03116aff7b18bd609f3b199" name="a703ad5a9f03116aff7b18bd609f3b199"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a703ad5a9f03116aff7b18bd609f3b199">&#9670;&#160;</a></span>errorOccurred</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sigc::signal&lt;void&gt; Async::AudioRecorder::errorOccurred</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This signal is emitted when an error occurrs in the recorder. </p>
<p>This signal will be emitted when an error occurrs in the recorder. After emitting the signal the associated file will be closed. All audio that is written after an error has occurred will be thrown away. To open a new file, call the initialize method again. </p>

<p class="definition">Definition at line <a class="el" href="AsyncAudioRecorder_8h_source.html#l00246">246</a> of file <a class="el" href="AsyncAudioRecorder_8h_source.html">AsyncAudioRecorder.h</a>.</p>

</div>
</div>
<a id="a648484cc1e28a26ddf35ee720e3ffec1" name="a648484cc1e28a26ddf35ee720e3ffec1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a648484cc1e28a26ddf35ee720e3ffec1">&#9670;&#160;</a></span>maxRecordingTimeReached</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sigc::signal&lt;void&gt; Async::AudioRecorder::maxRecordingTimeReached</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A signal that's emitted when the max recording time is reached. </p>
<p>This signal will be emitted when any of the maximum recording time or the high watermark limits are reached. Before this signal is emitted, the file is closed. It is safe to delete the audio recorder from the slot that is connected to this signal. </p>

<p class="definition">Definition at line <a class="el" href="AsyncAudioRecorder_8h_source.html#l00236">236</a> of file <a class="el" href="AsyncAudioRecorder_8h_source.html">AsyncAudioRecorder.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="AsyncAudioRecorder_8h_source.html">AsyncAudioRecorder.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 4 2025 14:24:10 for Async by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
