<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Async: AsyncSslX509_demo.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Async<span id="projectnumber">&#160;1.8.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div class="header">
  <div class="headertitle"><div class="title">AsyncSslX509_demo.cpp</div></div>
</div><!--header-->
<div class="contents">
<p>An example of how to use the SslCertSigningReq class</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="AsyncSslContext_8h.html">AsyncSslContext.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="AsyncSslKeypair_8h.html">AsyncSslKeypair.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="AsyncSslCertSigningReq_8h.html">AsyncSslCertSigningReq.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="AsyncSslX509_8h.html">AsyncSslX509.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Create a key pair for the CA</span></div>
<div class="line">  <a id="_a0" name="_a0"></a><a class="code hl_class" href="classAsync_1_1SslKeypair.html">Async::SslKeypair</a> ca_pkey;</div>
<div class="line">  <span class="keywordflow">if</span> (!ca_pkey.<a id="a1" name="a1"></a><a class="code hl_function" href="classAsync_1_1SslKeypair.html#afdab85a577285b557feae93de50d127c">generate</a>(2048))</div>
<div class="line">  {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;*** ERROR: Failed to generate CA key&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (!ca_pkey.<a id="a2" name="a2"></a><a class="code hl_function" href="classAsync_1_1SslKeypair.html#a2b971413dd546ce2114c3db89b372ed1">writePrivateKeyFile</a>(<span class="stringliteral">&quot;demo_ca.key&quot;</span>))</div>
<div class="line">  {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;*** WARNING: Failed to write CA key file&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create a CA certificate and sign it with the key above</span></div>
<div class="line">  <a id="_a3" name="_a3"></a><a class="code hl_class" href="classAsync_1_1SslX509.html">Async::SslX509</a> ca_cert;</div>
<div class="line">  ca_cert.<a id="a4" name="a4"></a><a class="code hl_function" href="classAsync_1_1SslX509.html#a572a145fd56e91c3339a8d1b673683da">setSerialNumber</a>(1);</div>
<div class="line">  ca_cert.<a id="a5" name="a5"></a><a class="code hl_function" href="classAsync_1_1SslX509.html#af4f1949211612f8067565d9b28994c22">setVersion</a>(<a id="a6" name="a6"></a><a class="code hl_enumvalue" href="classAsync_1_1SslX509.html#ada98f41d0eb420534e6058ea527dd4d6aaf4200559a03514bbb38d36934642ee9">Async::SslX509::VERSION_3</a>);</div>
<div class="line">  ca_cert.<a id="a7" name="a7"></a><a class="code hl_function" href="classAsync_1_1SslX509.html#a2ca6518b586c168c912ef799a4002880">addIssuerName</a>(<span class="stringliteral">&quot;CN&quot;</span>, <span class="stringliteral">&quot;Demo Root CA&quot;</span>);</div>
<div class="line">  ca_cert.<a class="code hl_function" href="classAsync_1_1SslX509.html#a2ca6518b586c168c912ef799a4002880">addIssuerName</a>(<span class="stringliteral">&quot;L&quot;</span>, <span class="stringliteral">&quot;My City&quot;</span>);</div>
<div class="line">  ca_cert.<a class="code hl_function" href="classAsync_1_1SslX509.html#a2ca6518b586c168c912ef799a4002880">addIssuerName</a>(<span class="stringliteral">&quot;C&quot;</span>, <span class="stringliteral">&quot;XX&quot;</span>);</div>
<div class="line">  ca_cert.<a id="a8" name="a8"></a><a class="code hl_function" href="classAsync_1_1SslX509.html#a9963bb31b4812df366aea7705e3f8792">setSubjectName</a>(ca_cert.<a id="a9" name="a9"></a><a class="code hl_function" href="classAsync_1_1SslX509.html#ad6d4d2658ec63d7009017fb9dadb68a2">issuerName</a>());</div>
<div class="line">  <a id="_a10" name="_a10"></a><a class="code hl_class" href="classAsync_1_1SslX509Extensions.html">Async::SslX509Extensions</a> ca_exts;</div>
<div class="line">  ca_exts.<a id="a11" name="a11"></a><a class="code hl_function" href="classAsync_1_1SslX509Extensions.html#ab4de48ba08727ad91a28b63b93feacda">addBasicConstraints</a>(<span class="stringliteral">&quot;critical, CA:TRUE&quot;</span>);</div>
<div class="line">  ca_exts.<a id="a12" name="a12"></a><a class="code hl_function" href="classAsync_1_1SslX509Extensions.html#ab795dafeadbdbde87f794679b3e78288">addKeyUsage</a>(<span class="stringliteral">&quot;critical, cRLSign, digitalSignature, keyCertSign&quot;</span>);</div>
<div class="line">  ca_exts.<a id="a13" name="a13"></a><a class="code hl_function" href="classAsync_1_1SslX509Extensions.html#a508c12be6705f89701ca11e63f3443d8">addSubjectAltNames</a>(<span class="stringliteral">&quot;email:ca@example.org&quot;</span>);</div>
<div class="line">  ca_cert.<a id="a14" name="a14"></a><a class="code hl_function" href="classAsync_1_1SslX509.html#abd2e5a1d2b74072753ff3115d4ec3255">addExtensions</a>(ca_exts);</div>
<div class="line">  time_t t = time(<span class="keyword">nullptr</span>);</div>
<div class="line">  ca_cert.<a id="a15" name="a15"></a><a class="code hl_function" href="classAsync_1_1SslX509.html#adde3216143c1e882ecbf5c1f9396ef15">setNotBefore</a>(t);</div>
<div class="line">  ca_cert.<a id="a16" name="a16"></a><a class="code hl_function" href="classAsync_1_1SslX509.html#ae0585b6aa8124236ddb1a46019794bed">setNotAfter</a>(t + 24*3600);</div>
<div class="line">  ca_cert.<a id="a17" name="a17"></a><a class="code hl_function" href="classAsync_1_1SslX509.html#a59c360f0449095dd03918892e8a7a5e0">setPublicKey</a>(ca_pkey);</div>
<div class="line">  ca_cert.<a id="a18" name="a18"></a><a class="code hl_function" href="classAsync_1_1SslX509.html#ac8c7ef09339836a7799df65e3fb3362f">sign</a>(ca_pkey);</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;--------------- CA Certificate ----------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  ca_cert.<a id="a19" name="a19"></a><a class="code hl_function" href="classAsync_1_1SslX509.html#a469fd71c50774c439ea77c4af7fdb96f">print</a>();</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;-----------------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  <span class="keywordflow">if</span> (!ca_cert.<a id="a20" name="a20"></a><a class="code hl_function" href="classAsync_1_1SslX509.html#aad2d8a5ba3a8ff4354aeb6253ca9c2e6">writePemFile</a>(<span class="stringliteral">&quot;demo_ca.crt&quot;</span>))</div>
<div class="line">  {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;*** WARNING: Failed to write CA certificate file&quot;</span></div>
<div class="line">              &lt;&lt; std::endl;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create a key pair for the server certificate</span></div>
<div class="line">  <a class="code hl_class" href="classAsync_1_1SslKeypair.html">Async::SslKeypair</a> cert_pkey;</div>
<div class="line">  <span class="keywordflow">if</span> (!cert_pkey.<a class="code hl_function" href="classAsync_1_1SslKeypair.html#afdab85a577285b557feae93de50d127c">generate</a>(2048))</div>
<div class="line">  {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;*** ERROR: Failed to generate server certificate key&quot;</span></div>
<div class="line">              &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (!cert_pkey.<a class="code hl_function" href="classAsync_1_1SslKeypair.html#a2b971413dd546ce2114c3db89b372ed1">writePrivateKeyFile</a>(<span class="stringliteral">&quot;demo.key&quot;</span>))</div>
<div class="line">  {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;*** WARNING: Failed to write CA key file&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create a Certificate Signing Request</span></div>
<div class="line">  <a id="_a21" name="_a21"></a><a class="code hl_class" href="classAsync_1_1SslCertSigningReq.html">Async::SslCertSigningReq</a> csr;</div>
<div class="line">  csr.<a id="a22" name="a22"></a><a class="code hl_function" href="classAsync_1_1SslCertSigningReq.html#aff59bd8e4e4ed106d7b2f5037aa12c27">setVersion</a>(<a id="a23" name="a23"></a><a class="code hl_enumvalue" href="classAsync_1_1SslCertSigningReq.html#a4cde48c999e642f086952d5a5c236e91a901f28e2eebcfb2f1ca5cbd672604086">Async::SslCertSigningReq::VERSION_1</a>);</div>
<div class="line">  csr.<a id="a24" name="a24"></a><a class="code hl_function" href="classAsync_1_1SslCertSigningReq.html#af5afce853cee94b0abe965add29c7983">addSubjectName</a>(<span class="stringliteral">&quot;CN&quot;</span>, <span class="stringliteral">&quot;hostname.example.org&quot;</span>);</div>
<div class="line">  csr.<a class="code hl_function" href="classAsync_1_1SslCertSigningReq.html#af5afce853cee94b0abe965add29c7983">addSubjectName</a>(<span class="stringliteral">&quot;L&quot;</span>, <span class="stringliteral">&quot;My City&quot;</span>);</div>
<div class="line">  csr.<a class="code hl_function" href="classAsync_1_1SslCertSigningReq.html#af5afce853cee94b0abe965add29c7983">addSubjectName</a>(<span class="stringliteral">&quot;C&quot;</span>, <span class="stringliteral">&quot;XX&quot;</span>);</div>
<div class="line">  <a class="code hl_class" href="classAsync_1_1SslX509Extensions.html">Async::SslX509Extensions</a> csr_exts;</div>
<div class="line">  csr_exts.<a class="code hl_function" href="classAsync_1_1SslX509Extensions.html#a508c12be6705f89701ca11e63f3443d8">addSubjectAltNames</a>(</div>
<div class="line">      <span class="stringliteral">&quot;DNS:hostname.example.org&quot;</span></div>
<div class="line">      <span class="stringliteral">&quot;, DNS:alias.example.org&quot;</span></div>
<div class="line">      <span class="stringliteral">&quot;, DNS:localhost&quot;</span></div>
<div class="line">      <span class="stringliteral">&quot;, IP:127.0.0.1&quot;</span></div>
<div class="line">      <span class="stringliteral">&quot;, email:admin@example.org&quot;</span></div>
<div class="line">      <span class="stringliteral">&quot;, URI:https://www.example.org&quot;</span></div>
<div class="line">      <span class="stringliteral">&quot;, otherName:msUPN;UTF8:sb@sb.local&quot;</span>);</div>
<div class="line">  csr.<a id="a25" name="a25"></a><a class="code hl_function" href="classAsync_1_1SslCertSigningReq.html#a35c527e8391542aecddb68531f981309">addExtensions</a>(csr_exts);</div>
<div class="line">  csr.<a id="a26" name="a26"></a><a class="code hl_function" href="classAsync_1_1SslCertSigningReq.html#a789fbecfb488d5958a5b135532f3aacc">setPublicKey</a>(cert_pkey);</div>
<div class="line">  csr.<a id="a27" name="a27"></a><a class="code hl_function" href="classAsync_1_1SslCertSigningReq.html#ae00f31bd0ae85bb9190775c50b582c08">sign</a>(cert_pkey);</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;--------- Certificate Signing Request ---------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  csr.<a id="a28" name="a28"></a><a class="code hl_function" href="classAsync_1_1SslCertSigningReq.html#a7be7e4396fe2041d27ccd84bacd1af35">print</a>();</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;-----------------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  <span class="keywordflow">if</span> (!csr.<a id="a29" name="a29"></a><a class="code hl_function" href="classAsync_1_1SslCertSigningReq.html#abae082d56dd8bb07c8c1af424ed4cada">writePemFile</a>(<span class="stringliteral">&quot;demo.csr&quot;</span>))</div>
<div class="line">  {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;*** WARNING: Failed to write CSR file&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  }</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;The CSR verification &quot;</span></div>
<div class="line">            &lt;&lt; (csr.<a id="a30" name="a30"></a><a class="code hl_function" href="classAsync_1_1SslCertSigningReq.html#ac81d0da69c2363a9ea30110fb8c54a6b">verify</a>(cert_pkey) ? <span class="stringliteral">&quot;PASSED&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>)</div>
<div class="line">            &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create the certificate using the CSR then sign it using the CA cert</span></div>
<div class="line">  <a class="code hl_class" href="classAsync_1_1SslX509.html">Async::SslX509</a> cert;</div>
<div class="line">  cert.<a class="code hl_function" href="classAsync_1_1SslX509.html#a572a145fd56e91c3339a8d1b673683da">setSerialNumber</a>(2);</div>
<div class="line">  cert.<a class="code hl_function" href="classAsync_1_1SslX509.html#af4f1949211612f8067565d9b28994c22">setVersion</a>(<a class="code hl_enumvalue" href="classAsync_1_1SslX509.html#ada98f41d0eb420534e6058ea527dd4d6aaf4200559a03514bbb38d36934642ee9">Async::SslX509::VERSION_3</a>);</div>
<div class="line">  cert.<a id="a31" name="a31"></a><a class="code hl_function" href="classAsync_1_1SslX509.html#ab5be8ccc0b4c34e99a4f25ee5fee23f5">setIssuerName</a>(ca_cert.<a id="a32" name="a32"></a><a class="code hl_function" href="classAsync_1_1SslX509.html#a6a3b3b914e5f6adf1467e5d685f7a0f1">subjectName</a>());</div>
<div class="line">  cert.<a class="code hl_function" href="classAsync_1_1SslX509.html#a9963bb31b4812df366aea7705e3f8792">setSubjectName</a>(csr.<a id="a33" name="a33"></a><a class="code hl_function" href="classAsync_1_1SslCertSigningReq.html#a6758c390120d411516d9f91c7b9a094c">subjectName</a>());</div>
<div class="line">  cert.<a class="code hl_function" href="classAsync_1_1SslX509.html#adde3216143c1e882ecbf5c1f9396ef15">setNotBefore</a>(t);</div>
<div class="line">  cert.<a class="code hl_function" href="classAsync_1_1SslX509.html#ae0585b6aa8124236ddb1a46019794bed">setNotAfter</a>(t + 3600);</div>
<div class="line">  <span class="keyword">const</span> <a class="code hl_class" href="classAsync_1_1SslX509Extensions.html">Async::SslX509Extensions</a> exts(csr.<a id="a34" name="a34"></a><a class="code hl_function" href="classAsync_1_1SslCertSigningReq.html#a88043fdd1419d3d92486653410b71380">extensions</a>());</div>
<div class="line">  <a class="code hl_class" href="classAsync_1_1SslX509Extensions.html">Async::SslX509Extensions</a> cert_exts;</div>
<div class="line">  cert_exts.<a class="code hl_function" href="classAsync_1_1SslX509Extensions.html#ab4de48ba08727ad91a28b63b93feacda">addBasicConstraints</a>(<span class="stringliteral">&quot;critical, CA:FALSE&quot;</span>);</div>
<div class="line">  cert_exts.<a class="code hl_function" href="classAsync_1_1SslX509Extensions.html#ab795dafeadbdbde87f794679b3e78288">addKeyUsage</a>(<span class="stringliteral">&quot;critical, nonRepudiation, digitalSignature, keyEncipherment, keyAgreement&quot;</span>);</div>
<div class="line">  cert_exts.<a id="a35" name="a35"></a><a class="code hl_function" href="classAsync_1_1SslX509Extensions.html#a2535d20832208797ddf350f081d5f589">addExtKeyUsage</a>(<span class="stringliteral">&quot;serverAuth&quot;</span>);</div>
<div class="line">  <a id="_a36" name="_a36"></a><a class="code hl_class" href="classAsync_1_1SslX509ExtSubjectAltName.html">Async::SslX509ExtSubjectAltName</a> san(exts.<a id="a37" name="a37"></a><a class="code hl_function" href="classAsync_1_1SslX509Extensions.html#a308ab1582ba08c8cf7b7af0204960a19">subjectAltName</a>());</div>
<div class="line">  cert_exts.<a id="a38" name="a38"></a><a class="code hl_function" href="classAsync_1_1SslX509Extensions.html#a60268e0a3be064f3918188ce25db3d14">addExtension</a>(san);</div>
<div class="line">  cert.<a class="code hl_function" href="classAsync_1_1SslX509.html#abd2e5a1d2b74072753ff3115d4ec3255">addExtensions</a>(cert_exts);</div>
<div class="line">  <a class="code hl_class" href="classAsync_1_1SslKeypair.html">Async::SslKeypair</a> csr_pkey(csr.<a id="a39" name="a39"></a><a class="code hl_function" href="classAsync_1_1SslCertSigningReq.html#a853ec0a929bead275f21906452e1c1e0">publicKey</a>());</div>
<div class="line">  cert.<a class="code hl_function" href="classAsync_1_1SslX509.html#a59c360f0449095dd03918892e8a7a5e0">setPublicKey</a>(csr_pkey);</div>
<div class="line">  cert.<a class="code hl_function" href="classAsync_1_1SslX509.html#ac8c7ef09339836a7799df65e3fb3362f">sign</a>(ca_pkey);</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;------------- Server Certificate --------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  cert.<a class="code hl_function" href="classAsync_1_1SslX509.html#a469fd71c50774c439ea77c4af7fdb96f">print</a>();</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;-----------------------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  <span class="keywordflow">if</span> (!cert.<a class="code hl_function" href="classAsync_1_1SslX509.html#aad2d8a5ba3a8ff4354aeb6253ca9c2e6">writePemFile</a>(<span class="stringliteral">&quot;demo.crt&quot;</span>))</div>
<div class="line">  {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;*** WARNING: Failed to write certificate file&quot;</span></div>
<div class="line">              &lt;&lt; std::endl;</div>
<div class="line">  }</div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;The certificate verification &quot;</span></div>
<div class="line">            &lt;&lt; (cert.<a id="a40" name="a40"></a><a class="code hl_function" href="classAsync_1_1SslX509.html#a67e25355255bbeba7063d91862388e1c">verify</a>(ca_pkey) ? <span class="stringliteral">&quot;PASSED&quot;</span> : <span class="stringliteral">&quot;FAILED&quot;</span>)</div>
<div class="line">            &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aAsyncSslCertSigningReq_8h_html"><div class="ttname"><a href="AsyncSslCertSigningReq_8h.html">AsyncSslCertSigningReq.h</a></div></div>
<div class="ttc" id="aAsyncSslContext_8h_html"><div class="ttname"><a href="AsyncSslContext_8h.html">AsyncSslContext.h</a></div><div class="ttdoc">SSL context meant to be used with TcpConnection and friends.</div></div>
<div class="ttc" id="aAsyncSslKeypair_8h_html"><div class="ttname"><a href="AsyncSslKeypair_8h.html">AsyncSslKeypair.h</a></div><div class="ttdoc">Represent private and public keys.</div></div>
<div class="ttc" id="aAsyncSslX509_8h_html"><div class="ttname"><a href="AsyncSslX509_8h.html">AsyncSslX509.h</a></div><div class="ttdoc">Implements a representation of a X.509 certificate.</div></div>
<div class="ttc" id="aclassAsync_1_1SslCertSigningReq_html"><div class="ttname"><a href="classAsync_1_1SslCertSigningReq.html">Async::SslCertSigningReq</a></div><div class="ttdoc">A class representing a certificate signing request.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslCertSigningReq_8h_source.html#l00123">AsyncSslCertSigningReq.h:124</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslCertSigningReq_html_a35c527e8391542aecddb68531f981309"><div class="ttname"><a href="classAsync_1_1SslCertSigningReq.html#a35c527e8391542aecddb68531f981309">Async::SslCertSigningReq::addExtensions</a></div><div class="ttdeci">void addExtensions(SslX509Extensions &amp;exts)</div><div class="ttdoc">Add extensions to this CSR.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslCertSigningReq_8h_source.html#l00418">AsyncSslCertSigningReq.h:418</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslCertSigningReq_html_a4cde48c999e642f086952d5a5c236e91a901f28e2eebcfb2f1ca5cbd672604086"><div class="ttname"><a href="classAsync_1_1SslCertSigningReq.html#a4cde48c999e642f086952d5a5c236e91a901f28e2eebcfb2f1ca5cbd672604086">Async::SslCertSigningReq::VERSION_1</a></div><div class="ttdeci">@ VERSION_1</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslCertSigningReq_8h_source.html#l00129">AsyncSslCertSigningReq.h:128</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslCertSigningReq_html_a6758c390120d411516d9f91c7b9a094c"><div class="ttname"><a href="classAsync_1_1SslCertSigningReq.html#a6758c390120d411516d9f91c7b9a094c">Async::SslCertSigningReq::subjectName</a></div><div class="ttdeci">const X509_NAME * subjectName(void) const</div><div class="ttdoc">Return the subject name as a X509_NAME pointer.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslCertSigningReq_8h_source.html#l00324">AsyncSslCertSigningReq.h:324</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslCertSigningReq_html_a789fbecfb488d5958a5b135532f3aacc"><div class="ttname"><a href="classAsync_1_1SslCertSigningReq.html#a789fbecfb488d5958a5b135532f3aacc">Async::SslCertSigningReq::setPublicKey</a></div><div class="ttdeci">bool setPublicKey(SslKeypair &amp;pubkey)</div><div class="ttdoc">Set the public key.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslCertSigningReq_8h_source.html#l00455">AsyncSslCertSigningReq.h:455</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslCertSigningReq_html_a7be7e4396fe2041d27ccd84bacd1af35"><div class="ttname"><a href="classAsync_1_1SslCertSigningReq.html#a7be7e4396fe2041d27ccd84bacd1af35">Async::SslCertSigningReq::print</a></div><div class="ttdeci">void print(const std::string &amp;prefix=&quot;&quot;) const</div><div class="ttdoc">Print the info in this CSR to std::cout.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslCertSigningReq_8h_source.html#l00616">AsyncSslCertSigningReq.h:616</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslCertSigningReq_html_a853ec0a929bead275f21906452e1c1e0"><div class="ttname"><a href="classAsync_1_1SslCertSigningReq.html#a853ec0a929bead275f21906452e1c1e0">Async::SslCertSigningReq::publicKey</a></div><div class="ttdeci">SslKeypair publicKey(void) const</div><div class="ttdoc">Get the public key.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslCertSigningReq_8h_source.html#l00444">AsyncSslCertSigningReq.h:444</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslCertSigningReq_html_a88043fdd1419d3d92486653410b71380"><div class="ttname"><a href="classAsync_1_1SslCertSigningReq.html#a88043fdd1419d3d92486653410b71380">Async::SslCertSigningReq::extensions</a></div><div class="ttdeci">SslX509Extensions extensions(void) const</div><div class="ttdoc">Get the extensions in this CSR.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslCertSigningReq_8h_source.html#l00434">AsyncSslCertSigningReq.h:434</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslCertSigningReq_html_abae082d56dd8bb07c8c1af424ed4cada"><div class="ttname"><a href="classAsync_1_1SslCertSigningReq.html#abae082d56dd8bb07c8c1af424ed4cada">Async::SslCertSigningReq::writePemFile</a></div><div class="ttdeci">bool writePemFile(FILE *f)</div><div class="ttdoc">Write the CSR data to a PEM file.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslCertSigningReq_8h_source.html#l00563">AsyncSslCertSigningReq.h:563</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslCertSigningReq_html_ac81d0da69c2363a9ea30110fb8c54a6b"><div class="ttname"><a href="classAsync_1_1SslCertSigningReq.html#ac81d0da69c2363a9ea30110fb8c54a6b">Async::SslCertSigningReq::verify</a></div><div class="ttdeci">bool verify(SslKeypair &amp;pubkey) const</div><div class="ttdoc">Verify the signature of this CSR.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslCertSigningReq_8h_source.html#l00482">AsyncSslCertSigningReq.h:482</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslCertSigningReq_html_ae00f31bd0ae85bb9190775c50b582c08"><div class="ttname"><a href="classAsync_1_1SslCertSigningReq.html#ae00f31bd0ae85bb9190775c50b582c08">Async::SslCertSigningReq::sign</a></div><div class="ttdeci">bool sign(SslKeypair &amp;privkey)</div><div class="ttdoc">Sign the CSR using the given private key.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslCertSigningReq_8h_source.html#l00466">AsyncSslCertSigningReq.h:466</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslCertSigningReq_html_af5afce853cee94b0abe965add29c7983"><div class="ttname"><a href="classAsync_1_1SslCertSigningReq.html#af5afce853cee94b0abe965add29c7983">Async::SslCertSigningReq::addSubjectName</a></div><div class="ttdeci">bool addSubjectName(const std::string &amp;field, const std::string &amp;value)</div><div class="ttdoc">Add a subject name component.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslCertSigningReq_8h_source.html#l00292">AsyncSslCertSigningReq.h:292</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslCertSigningReq_html_aff59bd8e4e4ed106d7b2f5037aa12c27"><div class="ttname"><a href="classAsync_1_1SslCertSigningReq.html#aff59bd8e4e4ed106d7b2f5037aa12c27">Async::SslCertSigningReq::setVersion</a></div><div class="ttdeci">bool setVersion(long version)</div><div class="ttdoc">Set the version of the request.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslCertSigningReq_8h_source.html#l00273">AsyncSslCertSigningReq.h:273</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslKeypair_html"><div class="ttname"><a href="classAsync_1_1SslKeypair.html">Async::SslKeypair</a></div><div class="ttdoc">A class representing private and public keys.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslKeypair_8h_source.html#l00123">AsyncSslKeypair.h:124</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslKeypair_html_a2b971413dd546ce2114c3db89b372ed1"><div class="ttname"><a href="classAsync_1_1SslKeypair.html#a2b971413dd546ce2114c3db89b372ed1">Async::SslKeypair::writePrivateKeyFile</a></div><div class="ttdeci">bool writePrivateKeyFile(const std::string &amp;filename)</div><div class="ttdoc">Write key data to file on PEM format.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslKeypair_8h_source.html#l00330">AsyncSslKeypair.h:330</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslKeypair_html_afdab85a577285b557feae93de50d127c"><div class="ttname"><a href="classAsync_1_1SslKeypair.html#afdab85a577285b557feae93de50d127c">Async::SslKeypair::generate</a></div><div class="ttdeci">bool generate(unsigned int bits)</div><div class="ttdoc">Generate a new RSA keypair.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslKeypair_8h_source.html#l00192">AsyncSslKeypair.h:192</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509ExtSubjectAltName_html"><div class="ttname"><a href="classAsync_1_1SslX509ExtSubjectAltName.html">Async::SslX509ExtSubjectAltName</a></div><div class="ttdoc">A class representing the X.509 Subject Alternative Name extension.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509ExtSubjectAltName_8h_source.html#l00115">AsyncSslX509ExtSubjectAltName.h:116</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509Extensions_html"><div class="ttname"><a href="classAsync_1_1SslX509Extensions.html">Async::SslX509Extensions</a></div><div class="ttdoc">A class representing X.509 extensions.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509Extensions_8h_source.html#l00119">AsyncSslX509Extensions.h:120</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509Extensions_html_a2535d20832208797ddf350f081d5f589"><div class="ttname"><a href="classAsync_1_1SslX509Extensions.html#a2535d20832208797ddf350f081d5f589">Async::SslX509Extensions::addExtKeyUsage</a></div><div class="ttdeci">bool addExtKeyUsage(const std::string &amp;eku)</div><div class="ttdoc">Add extended key usage.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509Extensions_8h_source.html#l00213">AsyncSslX509Extensions.h:213</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509Extensions_html_a308ab1582ba08c8cf7b7af0204960a19"><div class="ttname"><a href="classAsync_1_1SslX509Extensions.html#a308ab1582ba08c8cf7b7af0204960a19">Async::SslX509Extensions::subjectAltName</a></div><div class="ttdeci">SslX509ExtSubjectAltName subjectAltName(void) const</div><div class="ttdoc">Get the subject alternative names extension.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509Extensions_8h_source.html#l00234">AsyncSslX509Extensions.h:234</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509Extensions_html_a508c12be6705f89701ca11e63f3443d8"><div class="ttname"><a href="classAsync_1_1SslX509Extensions.html#a508c12be6705f89701ca11e63f3443d8">Async::SslX509Extensions::addSubjectAltNames</a></div><div class="ttdeci">bool addSubjectAltNames(const std::string &amp;san)</div><div class="ttdoc">Add subject alternative names.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509Extensions_8h_source.html#l00225">AsyncSslX509Extensions.h:225</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509Extensions_html_a60268e0a3be064f3918188ce25db3d14"><div class="ttname"><a href="classAsync_1_1SslX509Extensions.html#a60268e0a3be064f3918188ce25db3d14">Async::SslX509Extensions::addExtension</a></div><div class="ttdeci">bool addExtension(const SslX509ExtSubjectAltName &amp;san)</div><div class="ttdoc">Add a subject alternative names object.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509Extensions_8h_source.html#l00249">AsyncSslX509Extensions.h:249</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509Extensions_html_ab4de48ba08727ad91a28b63b93feacda"><div class="ttname"><a href="classAsync_1_1SslX509Extensions.html#ab4de48ba08727ad91a28b63b93feacda">Async::SslX509Extensions::addBasicConstraints</a></div><div class="ttdeci">bool addBasicConstraints(const std::string &amp;bc)</div><div class="ttdoc">Add basic constraints extension.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509Extensions_8h_source.html#l00187">AsyncSslX509Extensions.h:187</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509Extensions_html_ab795dafeadbdbde87f794679b3e78288"><div class="ttname"><a href="classAsync_1_1SslX509Extensions.html#ab795dafeadbdbde87f794679b3e78288">Async::SslX509Extensions::addKeyUsage</a></div><div class="ttdeci">bool addKeyUsage(const std::string &amp;ku)</div><div class="ttdoc">Add key usage.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509Extensions_8h_source.html#l00201">AsyncSslX509Extensions.h:201</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html"><div class="ttname"><a href="classAsync_1_1SslX509.html">Async::SslX509</a></div><div class="ttdoc">A class representing an X.509 certificate.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00123">AsyncSslX509.h:124</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_a2ca6518b586c168c912ef799a4002880"><div class="ttname"><a href="classAsync_1_1SslX509.html#a2ca6518b586c168c912ef799a4002880">Async::SslX509::addIssuerName</a></div><div class="ttdeci">void addIssuerName(const std::string &amp;field, const std::string &amp;value)</div><div class="ttdoc">Add a name to the issuer distinguished name.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00711">AsyncSslX509.h:711</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_a469fd71c50774c439ea77c4af7fdb96f"><div class="ttname"><a href="classAsync_1_1SslX509.html#a469fd71c50774c439ea77c4af7fdb96f">Async::SslX509::print</a></div><div class="ttdeci">void print(const std::string &amp;prefix=&quot;&quot;) const</div><div class="ttdoc">Print this certificate to std::cout.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00910">AsyncSslX509.h:910</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_a572a145fd56e91c3339a8d1b673683da"><div class="ttname"><a href="classAsync_1_1SslX509.html#a572a145fd56e91c3339a8d1b673683da">Async::SslX509::setSerialNumber</a></div><div class="ttdeci">void setSerialNumber(long serial_number=-1)</div><div class="ttdoc">Set the serial number of the certificate.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00657">AsyncSslX509.h:657</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_a59c360f0449095dd03918892e8a7a5e0"><div class="ttname"><a href="classAsync_1_1SslX509.html#a59c360f0449095dd03918892e8a7a5e0">Async::SslX509::setPublicKey</a></div><div class="ttdeci">bool setPublicKey(SslKeypair &amp;pkey)</div><div class="ttdoc">Set the public key for this certificate.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00838">AsyncSslX509.h:838</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_a67e25355255bbeba7063d91862388e1c"><div class="ttname"><a href="classAsync_1_1SslX509.html#a67e25355255bbeba7063d91862388e1c">Async::SslX509::verify</a></div><div class="ttdeci">bool verify(SslKeypair &amp;keypair)</div><div class="ttdoc">Verify that this certificate is signed by the given key.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00369">AsyncSslX509.h:369</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_a6a3b3b914e5f6adf1467e5d685f7a0f1"><div class="ttname"><a href="classAsync_1_1SslX509.html#a6a3b3b914e5f6adf1467e5d685f7a0f1">Async::SslX509::subjectName</a></div><div class="ttdeci">const X509_NAME * subjectName(void) const</div><div class="ttdoc">Get the subject distinguished name.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00321">AsyncSslX509.h:321</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_a9963bb31b4812df366aea7705e3f8792"><div class="ttname"><a href="classAsync_1_1SslX509.html#a9963bb31b4812df366aea7705e3f8792">Async::SslX509::setSubjectName</a></div><div class="ttdeci">bool setSubjectName(const X509_NAME *name)</div><div class="ttdoc">Set the subject distinguished name.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00304">AsyncSslX509.h:304</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_aad2d8a5ba3a8ff4354aeb6253ca9c2e6"><div class="ttname"><a href="classAsync_1_1SslX509.html#aad2d8a5ba3a8ff4354aeb6253ca9c2e6">Async::SslX509::writePemFile</a></div><div class="ttdeci">bool writePemFile(FILE *f)</div><div class="ttdoc">Write this certificate to file in PEM format.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00438">AsyncSslX509.h:438</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_ab5be8ccc0b4c34e99a4f25ee5fee23f5"><div class="ttname"><a href="classAsync_1_1SslX509.html#ab5be8ccc0b4c34e99a4f25ee5fee23f5">Async::SslX509::setIssuerName</a></div><div class="ttdeci">bool setIssuerName(const X509_NAME *name)</div><div class="ttdoc">Set the issuer distinguished name.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00276">AsyncSslX509.h:276</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_abd2e5a1d2b74072753ff3115d4ec3255"><div class="ttname"><a href="classAsync_1_1SslX509.html#abd2e5a1d2b74072753ff3115d4ec3255">Async::SslX509::addExtensions</a></div><div class="ttdeci">void addExtensions(const SslX509Extensions &amp;exts)</div><div class="ttdoc">Add v3 extensions to this certificate.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00814">AsyncSslX509.h:814</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_ac8c7ef09339836a7799df65e3fb3362f"><div class="ttname"><a href="classAsync_1_1SslX509.html#ac8c7ef09339836a7799df65e3fb3362f">Async::SslX509::sign</a></div><div class="ttdeci">bool sign(SslKeypair &amp;pkey)</div><div class="ttdoc">Sign this certificate using the given key.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00848">AsyncSslX509.h:848</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_ad6d4d2658ec63d7009017fb9dadb68a2"><div class="ttname"><a href="classAsync_1_1SslX509.html#ad6d4d2658ec63d7009017fb9dadb68a2">Async::SslX509::issuerName</a></div><div class="ttdeci">const X509_NAME * issuerName(void) const</div><div class="ttdoc">Get the issuer distinguished name.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00293">AsyncSslX509.h:293</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_ada98f41d0eb420534e6058ea527dd4d6aaf4200559a03514bbb38d36934642ee9"><div class="ttname"><a href="classAsync_1_1SslX509.html#ada98f41d0eb420534e6058ea527dd4d6aaf4200559a03514bbb38d36934642ee9">Async::SslX509::VERSION_3</a></div><div class="ttdeci">@ VERSION_3</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00131">AsyncSslX509.h:130</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_adde3216143c1e882ecbf5c1f9396ef15"><div class="ttname"><a href="classAsync_1_1SslX509.html#adde3216143c1e882ecbf5c1f9396ef15">Async::SslX509::setNotBefore</a></div><div class="ttdeci">void setNotBefore(std::time_t in_time)</div><div class="ttdoc">Set the date and time from which this certificate is valid.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00494">AsyncSslX509.h:494</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_ae0585b6aa8124236ddb1a46019794bed"><div class="ttname"><a href="classAsync_1_1SslX509.html#ae0585b6aa8124236ddb1a46019794bed">Async::SslX509::setNotAfter</a></div><div class="ttdeci">void setNotAfter(std::time_t in_time)</div><div class="ttdoc">Set the date and time up to which this certificate is valid.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00545">AsyncSslX509.h:545</a></div></div>
<div class="ttc" id="aclassAsync_1_1SslX509_html_af4f1949211612f8067565d9b28994c22"><div class="ttname"><a href="classAsync_1_1SslX509.html#af4f1949211612f8067565d9b28994c22">Async::SslX509::setVersion</a></div><div class="ttdeci">bool setVersion(long version)</div><div class="ttdoc">Set the version of this certificate.</div><div class="ttdef"><b>Definition</b> <a href="AsyncSslX509_8h_source.html#l00479">AsyncSslX509.h:479</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 4 2025 14:24:10 for Async by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
