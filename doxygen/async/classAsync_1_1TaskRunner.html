<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Async: Async::TaskRunner Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Async<span id="projectnumber">&#160;1.8.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceAsync.html">Async</a></li><li class="navelem"><a class="el" href="classAsync_1_1TaskRunner.html">TaskRunner</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classAsync_1_1TaskRunner-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Async::TaskRunner Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Run tasks from the <a class="el" href="namespaceAsync.html" title="Namespace for the asynchronous programming classes.">Async</a> main thread with automatic cleanup.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="AsyncTaskRunner_8h_source.html">AsyncTaskRunner.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7bb2a75f1b35b3b9e97ac377dee809e6" id="r_a7bb2a75f1b35b3b9e97ac377dee809e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7bb2a75f1b35b3b9e97ac377dee809e6">TaskRunner</a> (void)</td></tr>
<tr class="memdesc:a7bb2a75f1b35b3b9e97ac377dee809e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <br /></td></tr>
<tr class="separator:a7bb2a75f1b35b3b9e97ac377dee809e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a843632ae9fa0622c9190f699ac90d620" id="r_a843632ae9fa0622c9190f699ac90d620"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a843632ae9fa0622c9190f699ac90d620">TaskRunner</a> (const <a class="el" href="classAsync_1_1TaskRunner.html">TaskRunner</a> &amp;)=delete</td></tr>
<tr class="memdesc:a843632ae9fa0622c9190f699ac90d620"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor is deleted.  <br /></td></tr>
<tr class="separator:a843632ae9fa0622c9190f699ac90d620"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae416281ba120fe91f4237572c7437bd1" id="r_ae416281ba120fe91f4237572c7437bd1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae416281ba120fe91f4237572c7437bd1">~TaskRunner</a> (void)</td></tr>
<tr class="memdesc:ae416281ba120fe91f4237572c7437bd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="separator:ae416281ba120fe91f4237572c7437bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a834b23f32e0ee5f86c7f581d5c37cbbd" id="r_a834b23f32e0ee5f86c7f581d5c37cbbd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAsync_1_1TaskRunner.html">TaskRunner</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a834b23f32e0ee5f86c7f581d5c37cbbd">operator=</a> (const <a class="el" href="classAsync_1_1TaskRunner.html">TaskRunner</a> &amp;)=delete</td></tr>
<tr class="memdesc:a834b23f32e0ee5f86c7f581d5c37cbbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment operator is deleted.  <br /></td></tr>
<tr class="separator:a834b23f32e0ee5f86c7f581d5c37cbbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a603a64f2807724df04432fdbc665a02f" id="r_a603a64f2807724df04432fdbc665a02f"><td class="memTemplParams" colspan="2">template&lt;typename TaskHandler &gt; </td></tr>
<tr class="memitem:a603a64f2807724df04432fdbc665a02f"><td class="memTemplItemLeft" align="right" valign="top">Application::TaskId&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a603a64f2807724df04432fdbc665a02f">operator()</a> (TaskHandler &amp;&amp;handler)</td></tr>
<tr class="memdesc:a603a64f2807724df04432fdbc665a02f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a task from the <a class="el" href="namespaceAsync.html" title="Namespace for the asynchronous programming classes.">Async</a> main loop.  <br /></td></tr>
<tr class="separator:a603a64f2807724df04432fdbc665a02f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6837122101754aa881c071de0aadad8d" id="r_a6837122101754aa881c071de0aadad8d"><td class="memTemplParams" colspan="2">template&lt;typename Func , typename Arg1 , typename... Args&gt; </td></tr>
<tr class="memitem:a6837122101754aa881c071de0aadad8d"><td class="memTemplItemLeft" align="right" valign="top">Application::TaskId&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a6837122101754aa881c071de0aadad8d">operator()</a> (Func &amp;&amp;f, Arg1 &amp;&amp;arg1, Args &amp;&amp;... args)</td></tr>
<tr class="memdesc:a6837122101754aa881c071de0aadad8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a task from the <a class="el" href="namespaceAsync.html" title="Namespace for the asynchronous programming classes.">Async</a> main loop.  <br /></td></tr>
<tr class="separator:a6837122101754aa881c071de0aadad8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe6b8860d2c4c955352d75cf6de4c1e0" id="r_afe6b8860d2c4c955352d75cf6de4c1e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe6b8860d2c4c955352d75cf6de4c1e0">cancel</a> (void)</td></tr>
<tr class="memdesc:afe6b8860d2c4c955352d75cf6de4c1e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel all queued tasks for this object.  <br /></td></tr>
<tr class="separator:afe6b8860d2c4c955352d75cf6de4c1e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Run tasks from the <a class="el" href="namespaceAsync.html" title="Namespace for the asynchronous programming classes.">Async</a> main thread with automatic cleanup. </p>
<dl class="section author"><dt>Author</dt><dd>Tobias Blomberg / SM0SVX </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2019-03-09</dd></dl>
<p>This class is used to run delayed tasks from the <a class="el" href="namespaceAsync.html" title="Namespace for the asynchronous programming classes.">Async</a> main thread. If the object is destroyed before the task has been executed all tasks queued by this object are cancelled. That property is the main advantage for using this class rather than calling the <a class="el" href="classAsync_1_1Application.html#a62c575223fdc2ac99463ad38ab1e4814" title="Run a task from the Async main loop.">Application::runTask</a> functions directly.</p>
<p>A <a class="el" href="classAsync_1_1TaskRunner.html" title="Run tasks from the Async main thread with automatic cleanup.">TaskRunner</a> is typically used to break up long callback chains or to run a task on the main <a class="el" href="namespaceAsync.html" title="Namespace for the asynchronous programming classes.">Async</a> threa when running in another thread.</p>
<div class="fragment"></div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="AsyncTaskRunner_8h_source.html#l00124">124</a> of file <a class="el" href="AsyncTaskRunner_8h_source.html">AsyncTaskRunner.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7bb2a75f1b35b3b9e97ac377dee809e6" name="a7bb2a75f1b35b3b9e97ac377dee809e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bb2a75f1b35b3b9e97ac377dee809e6">&#9670;&#160;</a></span>TaskRunner() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Async::TaskRunner::TaskRunner </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor. </p>

<p class="definition">Definition at line <a class="el" href="AsyncTaskRunner_8h_source.html#l00130">130</a> of file <a class="el" href="AsyncTaskRunner_8h_source.html">AsyncTaskRunner.h</a>.</p>

</div>
</div>
<a id="a843632ae9fa0622c9190f699ac90d620" name="a843632ae9fa0622c9190f699ac90d620"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a843632ae9fa0622c9190f699ac90d620">&#9670;&#160;</a></span>TaskRunner() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Async::TaskRunner::TaskRunner </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAsync_1_1TaskRunner.html">TaskRunner</a> &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy constructor is deleted. </p>

</div>
</div>
<a id="ae416281ba120fe91f4237572c7437bd1" name="ae416281ba120fe91f4237572c7437bd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae416281ba120fe91f4237572c7437bd1">&#9670;&#160;</a></span>~TaskRunner()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Async::TaskRunner::~TaskRunner </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>Will cancel all pending tasks </p>

<p class="definition">Definition at line <a class="el" href="AsyncTaskRunner_8h_source.html#l00142">142</a> of file <a class="el" href="AsyncTaskRunner_8h_source.html">AsyncTaskRunner.h</a>.</p>

<p class="reference">References <a class="el" href="AsyncTaskRunner_8h_source.html#l00230">cancel()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afe6b8860d2c4c955352d75cf6de4c1e0" name="afe6b8860d2c4c955352d75cf6de4c1e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe6b8860d2c4c955352d75cf6de4c1e0">&#9670;&#160;</a></span>cancel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Async::TaskRunner::cancel </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancel all queued tasks for this object. </p>

<p class="definition">Definition at line <a class="el" href="AsyncTaskRunner_8h_source.html#l00230">230</a> of file <a class="el" href="AsyncTaskRunner_8h_source.html">AsyncTaskRunner.h</a>.</p>

<p class="reference">References <a class="el" href="classAsync_1_1Application.html#a09c9085c0f5536d55dc991de915e4a9d">Async::Application::app()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AsyncTaskRunner_8h_source.html#l00142">~TaskRunner()</a>, and <a class="el" href="AsyncThreadSigCSignal_8h_source.html#l00171">Async::ThreadSigCSignal&lt; T_ret, Args &gt;::~ThreadSigCSignal()</a>.</p>

</div>
</div>
<a id="a6837122101754aa881c071de0aadad8d" name="a6837122101754aa881c071de0aadad8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6837122101754aa881c071de0aadad8d">&#9670;&#160;</a></span>operator()() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Func , typename Arg1 , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Application::TaskId Async::TaskRunner::operator() </td>
          <td>(</td>
          <td class="paramtype">Func &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>f</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Arg1 &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>arg1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...</td>          <td class="paramname"><span class="paramname"><em>args</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run a task from the <a class="el" href="namespaceAsync.html" title="Namespace for the asynchronous programming classes.">Async</a> main loop. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The function to call </td></tr>
    <tr><td class="paramname">arg1</td><td>The first argument to the function </td></tr>
    <tr><td class="paramname">args</td><td>The rest of the arguments to the function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the task id associated with the task</dd></dl>
<p>This overloaded function is used if more than one argument is used in the function call. Calling a function taking two arguments can look like this:</p>
<p>runTask(&amp;the_function, true, 42);</p>
<p>For a member function the second argument must be the object pointer so the syntax for a member function taking two arguments would look something like this:</p>
<p>runTask(&amp;MyClass::func, this, true, 42);</p>
<p>This function is thread safe so a separate thread can add tasks which are then executed on the main <a class="el" href="namespaceAsync.html" title="Namespace for the asynchronous programming classes.">Async</a> thread. </p>

<p class="definition">Definition at line <a class="el" href="AsyncTaskRunner_8h_source.html#l00221">221</a> of file <a class="el" href="AsyncTaskRunner_8h_source.html">AsyncTaskRunner.h</a>.</p>

<p class="reference">References <a class="el" href="classAsync_1_1Application.html#a09c9085c0f5536d55dc991de915e4a9d">Async::Application::app()</a>, and <a class="el" href="classAsync_1_1Application.html#a62c575223fdc2ac99463ad38ab1e4814">Async::Application::runTask()</a>.</p>

</div>
</div>
<a id="a603a64f2807724df04432fdbc665a02f" name="a603a64f2807724df04432fdbc665a02f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a603a64f2807724df04432fdbc665a02f">&#9670;&#160;</a></span>operator()() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TaskHandler &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Application::TaskId Async::TaskRunner::operator() </td>
          <td>(</td>
          <td class="paramtype">TaskHandler &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>handler</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run a task from the <a class="el" href="namespaceAsync.html" title="Namespace for the asynchronous programming classes.">Async</a> main loop. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>The handler function for the task to run </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the task id associated with the task</dd></dl>
<p>Use it like this to call a normal function taking no arguments:</p>
<p>myTaskRunnerInstance(&amp;the_function);</p>
<p>If the function takes arguments, you need to use std::bind but then it's better to use the other version of this function which calls bind for you. But anyway, with std::bind it will look something like this for a function taking a bool and an int as arguments:</p>
<p>myTaskRunnerInstance(std::bind(&amp;the_function, true, 42));</p>
<p>For a member function the second argument to std::bind must be the object pointer so the syntax for a member function taking two arguments would look something like this:</p>
<p>myTaskRunnerInstance(std::bind(&amp;MyClass::func, this, true, 42));</p>
<p>This function is thread safe so a separate thread can add tasks which are then executed on the main <a class="el" href="namespaceAsync.html" title="Namespace for the asynchronous programming classes.">Async</a> thread. </p>

<p class="definition">Definition at line <a class="el" href="AsyncTaskRunner_8h_source.html#l00192">192</a> of file <a class="el" href="AsyncTaskRunner_8h_source.html">AsyncTaskRunner.h</a>.</p>

<p class="reference">References <a class="el" href="classAsync_1_1Application.html#a09c9085c0f5536d55dc991de915e4a9d">Async::Application::app()</a>, and <a class="el" href="classAsync_1_1Application.html#a62c575223fdc2ac99463ad38ab1e4814">Async::Application::runTask()</a>.</p>

</div>
</div>
<a id="a834b23f32e0ee5f86c7f581d5c37cbbd" name="a834b23f32e0ee5f86c7f581d5c37cbbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a834b23f32e0ee5f86c7f581d5c37cbbd">&#9670;&#160;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAsync_1_1TaskRunner.html">TaskRunner</a> &amp; Async::TaskRunner::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAsync_1_1TaskRunner.html">TaskRunner</a> &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assignment operator is deleted. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="AsyncTaskRunner_8h_source.html">AsyncTaskRunner.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 4 2025 14:24:10 for Async by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
