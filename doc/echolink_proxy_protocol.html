<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.9" />
<title>EchoLink Proxy Protocol Documentation</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>EchoLink Proxy Protocol Documentation</h1>
<span id="author">Jonathan Taylor/K1RFD and Tobias Blomberg/SM0SVX</span><br />
<span id="revnumber">version A,</span>
<span id="revdate">12 may 2013</span>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>The <a href="http://www.echolink.org/">EchoLink</a> <span class="footnote"><br />[EchoLinkÂ® is a registered
trademark of Synergenics, LLC]<br /></span> Proxy provides a way to move the TCP port 5200
and UDP port 5198/5199 traffic used by EchoLink to a remote server, and tunnel
it from the EchoLink client to the proxy over a single TCP connection. This is
useful in situations where port forwarding of the two EchoLink UDP ports cannot
be set up like when on a hotel LAN or something like that.</p></div>
<div class="paragraph"><p>For more information about EchoLink proxy, have a look at the description at
<a href="http://www.echolink.org/proxy.htm">http://www.echolink.org/proxy.htm</a>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_protocol_description">Protocol Description</h2>
<div class="sectionbody">
<div class="paragraph"><p>In the following sections we will describe how the EchoLink proxy protocol is
used. All messages are described in detail in <a href="#proxy_message_specification">[proxy_message_specification]</a>.</p></div>
<div class="sect2">
<h3 id="_connect_and_authenticate">Connect and Authenticate</h3>
<div class="paragraph"><p>This chapter explains how to connect to the proxy and authenticaticate. After
the authentication has secceeded, messages are exchanged in the format
described in <a href="#proxy_message_specification">[proxy_message_specification]</a>.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
The proxy server listens for a TCP connection from a proxy client.
  The default port is 8100 but this may be changed in the configuration.
</p>
</li>
<li>
<p>
The client establishes a TCP connection.
</p>
</li>
<li>
<p>
The server accepts the connection and sends a credentials challenge, which is
  an 8-byte random "nonce". Each byte is a printable character.
</p>
</li>
<li>
<p>
The client reads this 8-byte nonce, then calculates a 16-byte digest, which
  is the MD5 hash of: the uppercased password followed by the nonce.
</p>
</li>
<li>
<p>
The client responds by sending the newline-terminated callsign, followed by
  the 16-byte digest. This is the raw bytes of the digest, not encoded.
</p>
</li>
<li>
<p>
The server confirms the digest.
</p>
<div class="ulist"><ul>
<li>
<p>
If the digest is correct and the client is authorized, the server proceeds
    with setting up the UDP ports and proxying TCP and UDP to and from the
    client, as described below.
</p>
</li>
<li>
<p>
If the digest is incorrect, the server responds with a SYSTEM message with
    a one-byte data block, the data byte being 1 (BAD_PASSWORD).  If the digest
    is correct but the server rejects the callsign due to its ACL, a SYSTEM
    message with a data byte 2 is sent (ACCESS_DENIED).
</p>
</li>
</ul></div>
</li>
</ol></div>
</div>
<div class="sect2">
<h3 id="tcp_traffic">TCP Traffic</h3>
<div class="paragraph"><p>When the client wishes to establish a remote TCP connection, it constructs and
sends a TCP_OPEN message, containing the IP address of the remote server. When
the connection is established or rejected, the proxy server will respond with a
TCP_STATUS message. All four data bytes will be set to zero if the connection
succeeded. When any of the data bytes are non-zero, that indicate a connection
failure.</p></div>
<div class="paragraph"><p>If and when the connection is established, the server expects to receive
TCP_DATA messages from the client, and constructs TCP_DATA messages to send to
the client for each block of TCP data received from the remote server. When the
proxy receives a TCP_CLOSE message from the client, it closes the remote TCP
connection. If the remote server close the connection, the proxy server sends a
TCP_CLOSE message to the client.</p></div>
</div>
<div class="sect2">
<h3 id="udp_traffic">UDP Traffic</h3>
<div class="paragraph"><p>The proxy listens on UDP ports 5198 and 5199.  Whenever a packet of UDP data is
received on either port from a remote host, the server wraps it in a UDP_DATA
or UDP_CONTROL message as appropriate and relays it to the client, with the
remote host&#8217;s IP address in the address field. Conversely, when the client
wishes to send a block of UDP data to the remote host, it wraps it in either a
UDP_DATA or UDP_CONTROL message and sends it to the client, again with the
remote host&#8217;s IP address in the address field.</p></div>
</div>
<div class="sect2">
<h3 id="_shutdown">Shutdown</h3>
<div class="paragraph"><p>At any time, the client can disconnect from the proxy by closing the TCP
connection. At this point the server is again made available for use by closing
its socket to the client and setting itself up to accept a new one.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="proxy_message_specification">Proxy Message Specification</h2>
<div class="sectionbody">
<div class="paragraph"><p>After a proxy session has been set up and authenticated, each block of
data that moves between client and server is encapsulated as a
ProxyMessage. Each ProxyMessage has the format described below.</p></div>
<div class="tableblock">
<table rules="all"
width="95%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 1. Proxy Message Block Format</caption>
<col width="16%" />
<col width="16%" />
<col width="66%" />
<thead>
<tr>
<th align="left" valign="top"> Field   </th>
<th align="center" valign="top"> Size [octets] </th>
<th align="left" valign="top"> Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">type</p></td>
<td align="center" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">The message type (see below)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">address</p></td>
<td align="center" valign="top"><p class="table">4</p></td>
<td align="left" valign="top"><p class="table">Remote peer&#8217;s IP address in network byte order</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">size</p></td>
<td align="center" valign="top"><p class="table">4</p></td>
<td align="left" valign="top"><p class="table">Size of the data payload portion, little-endian</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">data</p></td>
<td align="center" valign="top"><p class="table">0-</p></td>
<td align="left" valign="top"><p class="table">Sequence of bytes (payload). May be zero octets.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The <em>type</em> field indicates what type of message it is. The available message
types are listed below. The "sender" column indicate which of the sides,
client (c), server (s) or both (c/s) that can send the message.</p></div>
<div class="tableblock">
<table rules="all"
width="95%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 2. Protocol Message Specifications</caption>
<col width="20%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top"> Name        </th>
<th align="center" valign="top"> Type code </th>
<th align="center" valign="top"> Sender </th>
<th align="center" valign="top"> Data size </th>
<th align="left" valign="top"> Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">TCP_OPEN</p></td>
<td align="center" valign="top"><p class="table">1</p></td>
<td align="center" valign="top"><p class="table">c</p></td>
<td align="center" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><div><div class="paragraph"><p>Open a TCP connection to the IP address specified in the address field of the
header.</p></div></div></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">TCP_DATA</p></td>
<td align="center" valign="top"><p class="table">2</p></td>
<td align="center" valign="top"><p class="table">c/s</p></td>
<td align="center" valign="top"><p class="table">1-</p></td>
<td align="left" valign="top"><div><div class="paragraph"><p>Send TCP data to a previously opened connection. The data field have variable
size and contains the TCP data to send.</p></div></div></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">TCP_CLOSE</p></td>
<td align="center" valign="top"><p class="table">3</p></td>
<td align="center" valign="top"><p class="table">c/s</p></td>
<td align="center" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><div><div class="paragraph"><p>Close a previously opened TCP connection. The data field should have length 0.
When the server receives the TCP_CLOSE message, it will reply back with a
TCP_CLOSE message when the connection have been closed. The server may also
send a TCP_CLOSE if the remote server close the connection.</p></div></div></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">TCP_STATUS</p></td>
<td align="center" valign="top"><p class="table">4</p></td>
<td align="center" valign="top"><p class="table">s</p></td>
<td align="center" valign="top"><p class="table">4</p></td>
<td align="left" valign="top"><div><div class="paragraph"><p>Status report for the TCP connection. The server will send a TCP_STATUS message
after the connection have been established. If the connection succeeds, all
four data bytes will be set to 0.</p></div></div></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">UDP_DATA</p></td>
<td align="center" valign="top"><p class="table">5</p></td>
<td align="center" valign="top"><p class="table">c/s</p></td>
<td align="center" valign="top"><p class="table">1-</p></td>
<td align="left" valign="top"><div><div class="paragraph"><p>Send a UDP data message. UDP data messages are used for example to carry
EchoLink audio.</p></div></div></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">UDP_CONTROL</p></td>
<td align="center" valign="top"><p class="table">6</p></td>
<td align="center" valign="top"><p class="table">c/s</p></td>
<td align="center" valign="top"><p class="table">1-</p></td>
<td align="left" valign="top"><div><div class="paragraph"><p>Send a UDP control message. UDP control messages are for example used to
control EchoLink connection establishment and maintenance.</p></div></div></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SYSTEM</p></td>
<td align="center" valign="top"><p class="table">7</p></td>
<td align="center" valign="top"><p class="table">s</p></td>
<td align="center" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><div><div class="paragraph"><p>System event information message. This message is used to indicate
authentication or authorization failure. There are two valid values for the
single data byte.</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>1: BAD_PASSWORD</strong> - The client provided the wrong authentication password.
</p>
</li>
<li>
<p>
<strong>2: ACCESS_DENIED</strong> - The client is not authorized to access this proxy.
</p>
</li>
</ul></div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Version A<br />
Last updated 2014-06-30 17:43:56 CEST
</div>
</div>
</body>
</html>
